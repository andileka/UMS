{"ast":null,"code":"import axios from \"axios\";\nimport { omitBy, isNil } from \"lodash\";\nimport { RESTAURANTS_URL } from \"../config/constants\";\nimport { authHeader, refreshToken, logout } from \"./common\";\nexport const fetchRestaurants = async (params = {}) => {\n  try {\n    params = omitBy(params, isNil);\n    const query = Object.keys(params).map(k => encodeURIComponent(k) + \"=\" + encodeURIComponent(params[k])).join(\"&\");\n    const response = await axios.get(`${RESTAURANTS_URL}?${query}`, authHeader());\n    refreshToken();\n    return response.data;\n  } catch (e) {\n    if (e.response && e.response.status === 401) {\n      logout();\n    }\n\n    const message = e.response ? e.response.data.message : e.message;\n    throw new Error(message);\n  }\n};\nexport const fetchOwnedRestaurants = async (params = {}) => {\n  try {\n    params = omitBy(params, isNil);\n    const query = Object.keys(params).map(k => encodeURIComponent(k) + \"=\" + encodeURIComponent(params[k])).join(\"&\");\n    const response = await axios.get(`${RESTAURANTS_URL}/owned?${query}`, authHeader());\n    refreshToken();\n    return response.data;\n  } catch (e) {\n    if (e.response && e.response.status === 401) {\n      logout();\n    }\n\n    const message = e.response ? e.response.data.message : e.message;\n    throw new Error(message);\n  }\n};\nexport const fetchRestaurantUsers = async (restaurantId, params = {}) => {\n  try {\n    params = omitBy(params, isNil);\n    const query = Object.keys(params).map(k => encodeURIComponent(k) + \"=\" + encodeURIComponent(params[k])).join(\"&\");\n    const response = await axios.get(`${RESTAURANTS_URL}/${restaurantId}/users?${query}`, authHeader());\n    refreshToken();\n    return response.data;\n  } catch (e) {\n    if (e.response && e.response.status === 401) {\n      logout();\n    }\n\n    const message = e.response ? e.response.data.message : e.message;\n    throw new Error(message);\n  }\n};\nexport const fetchRestaurant = async restaurantId => {\n  try {\n    const response = await axios.get(`${RESTAURANTS_URL}/${restaurantId}`, authHeader());\n    refreshToken();\n    return response.data;\n  } catch (e) {\n    if (e.response && e.response.status === 401) {\n      logout();\n    }\n\n    const message = e.response ? e.response.data.message : e.message;\n    throw new Error(message);\n  }\n};\nexport const createRestaurant = async data => {\n  try {\n    const response = await axios.post(RESTAURANTS_URL, data, authHeader());\n    refreshToken();\n    return response.data;\n  } catch (e) {\n    if (e.response && e.response.status === 401) {\n      logout();\n    }\n\n    const message = e.response ? e.response.data.message : e.message;\n    throw new Error(message);\n  }\n};\nexport const updateRestaurant = async (restaurantId, data) => {\n  try {\n    const response = await axios.patch(`${RESTAURANTS_URL}/${restaurantId}`, data, authHeader());\n    refreshToken();\n    return response.data;\n  } catch (e) {\n    if (e.response && e.response.status === 401) {\n      logout();\n    }\n\n    const message = e.response ? e.response.data.message : e.message;\n    throw new Error(message);\n  }\n};\nexport const deleteRestaurant = async restaurantId => {\n  try {\n    const response = await axios.delete(`${RESTAURANTS_URL}/${restaurantId}`, authHeader());\n    refreshToken();\n    return response.data;\n  } catch (e) {\n    if (e.response && e.response.status === 401) {\n      logout();\n    }\n\n    const message = e.response ? e.response.data.message : e.message;\n    throw new Error(message);\n  }\n};","map":{"version":3,"sources":["C:/Users/User/Desktop/UserManagemenSystem/frontend/ums/src/services/grup.js"],"names":["axios","omitBy","isNil","RESTAURANTS_URL","authHeader","refreshToken","logout","fetchRestaurants","params","query","Object","keys","map","k","encodeURIComponent","join","response","get","data","e","status","message","Error","fetchOwnedRestaurants","fetchRestaurantUsers","restaurantId","fetchRestaurant","createRestaurant","post","updateRestaurant","patch","deleteRestaurant","delete"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { omitBy, isNil } from \"lodash\";\r\nimport { RESTAURANTS_URL } from \"../config/constants\";\r\nimport { authHeader, refreshToken, logout } from \"./common\";\r\n\r\nexport const fetchRestaurants = async (params = {}) => {\r\n  try {\r\n    params = omitBy(params, isNil);\r\n    const query = Object.keys(params)\r\n      .map((k) => encodeURIComponent(k) + \"=\" + encodeURIComponent(params[k]))\r\n      .join(\"&\");\r\n\r\n    const response = await axios.get(\r\n      `${RESTAURANTS_URL}?${query}`,\r\n      authHeader()\r\n    );\r\n    refreshToken();\r\n    return response.data;\r\n  } catch (e) {\r\n    if (e.response && e.response.status === 401) {\r\n      logout();\r\n    }\r\n    const message = e.response ? e.response.data.message : e.message;\r\n    throw new Error(message);\r\n  }\r\n};\r\n\r\nexport const fetchOwnedRestaurants = async (params = {}) => {\r\n  try {\r\n    params = omitBy(params, isNil);\r\n    const query = Object.keys(params)\r\n      .map((k) => encodeURIComponent(k) + \"=\" + encodeURIComponent(params[k]))\r\n      .join(\"&\");\r\n\r\n    const response = await axios.get(\r\n      `${RESTAURANTS_URL}/owned?${query}`,\r\n      authHeader()\r\n    );\r\n    refreshToken();\r\n    return response.data;\r\n  } catch (e) {\r\n    if (e.response && e.response.status === 401) {\r\n      logout();\r\n    }\r\n    const message = e.response ? e.response.data.message : e.message;\r\n    throw new Error(message);\r\n  }\r\n};\r\n\r\nexport const fetchRestaurantUsers = async (restaurantId, params = {}) => {\r\n  try {\r\n    params = omitBy(params, isNil);\r\n    const query = Object.keys(params)\r\n      .map((k) => encodeURIComponent(k) + \"=\" + encodeURIComponent(params[k]))\r\n      .join(\"&\");\r\n    const response = await axios.get(\r\n      `${RESTAURANTS_URL}/${restaurantId}/users?${query}`,\r\n      authHeader()\r\n    );\r\n    refreshToken();\r\n    return response.data;\r\n  } catch (e) {\r\n    if (e.response && e.response.status === 401) {\r\n      logout();\r\n    }\r\n    const message = e.response ? e.response.data.message : e.message;\r\n    throw new Error(message);\r\n  }\r\n};\r\n\r\nexport const fetchRestaurant = async (restaurantId) => {\r\n  try {\r\n    const response = await axios.get(\r\n      `${RESTAURANTS_URL}/${restaurantId}`,\r\n      authHeader()\r\n    );\r\n    refreshToken();\r\n    return response.data;\r\n  } catch (e) {\r\n    if (e.response && e.response.status === 401) {\r\n      logout();\r\n    }\r\n    const message = e.response ? e.response.data.message : e.message;\r\n    throw new Error(message);\r\n  }\r\n};\r\n\r\nexport const createRestaurant = async (data) => {\r\n  try {\r\n    const response = await axios.post(RESTAURANTS_URL, data, authHeader());\r\n    refreshToken();\r\n    return response.data;\r\n  } catch (e) {\r\n    if (e.response && e.response.status === 401) {\r\n      logout();\r\n    }\r\n    const message = e.response ? e.response.data.message : e.message;\r\n    throw new Error(message);\r\n  }\r\n};\r\n\r\nexport const updateRestaurant = async (restaurantId, data) => {\r\n  try {\r\n    const response = await axios.patch(\r\n      `${RESTAURANTS_URL}/${restaurantId}`,\r\n      data,\r\n      authHeader()\r\n    );\r\n    refreshToken();\r\n    return response.data;\r\n  } catch (e) {\r\n    if (e.response && e.response.status === 401) {\r\n      logout();\r\n    }\r\n    const message = e.response ? e.response.data.message : e.message;\r\n    throw new Error(message);\r\n  }\r\n};\r\n\r\nexport const deleteRestaurant = async (restaurantId) => {\r\n  try {\r\n    const response = await axios.delete(\r\n      `${RESTAURANTS_URL}/${restaurantId}`,\r\n      authHeader()\r\n    );\r\n    refreshToken();\r\n    return response.data;\r\n  } catch (e) {\r\n    if (e.response && e.response.status === 401) {\r\n      logout();\r\n    }\r\n    const message = e.response ? e.response.data.message : e.message;\r\n    throw new Error(message);\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}